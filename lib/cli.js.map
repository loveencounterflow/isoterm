{
  "version": 3,
  "file": "",
  "sourceRoot": "",
  "sources": [
    "../src/cli.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "\n\n\n\n'use strict'\n\n\n\n############################################################################################################\nCND                       = require 'cnd'\nrpr                       = CND.rpr\nbadge                     = 'XTERM'\ndebug                     = CND.get_logger 'debug',     badge\nwarn                      = CND.get_logger 'warn',      badge\ninfo                      = CND.get_logger 'info',      badge\nurge                      = CND.get_logger 'urge',      badge\nhelp                      = CND.get_logger 'help',      badge\nwhisper                   = CND.get_logger 'whisper',   badge\necho                      = CND.echo.bind CND\n#...........................................................................................................\nPATH                      = require 'path'\nCP                        = require 'child_process'\n#...........................................................................................................\nxterm_path                = PATH.resolve PATH.join __dirname, '../xterm'\nstart_path                = PATH.resolve PATH.join __dirname, '../app/start.js'\n\n#-----------------------------------------------------------------------------------------------------------\nparse_arguments = ->\n  if process.argv.length isnt 2\n    warn \"^445-1^ this command doesn't accept parameters; terminating\"\n    process.exit 1\n\n#-----------------------------------------------------------------------------------------------------------\nstart_server = ->\n  process.chdir xterm_path\n  cp_cfg  = { detached: false, }\n  server  = CP.fork start_path, cp_cfg\n  server.on 'error', ( error ) => warn '^server@445-2^', error\n  server.on 'close',      => whisper '^server@445-3^', 'close'\n  server.on 'disconnect', => whisper '^server@445-4^', 'disconnect'\n  server.on 'error',      => whisper '^server@445-5^', 'error'\n  server.on 'exit',       => whisper '^server@445-6^', 'exit'\n  server.on 'message',    => whisper '^server@445-7^', 'message'\n  server.on 'spawn',      => whisper '^server@445-8^', 'spawn'\n  help '^445-9^', 'Server started'\n  ### TAINT get or set port ###\n  port = 3000\n  return { server, port, }\n\n#-----------------------------------------------------------------------------------------------------------\nstart_browser = ( cfg ) ->\n  defaults    = { port: null, }\n  { server\n    port }    = { defaults..., cfg..., }\n  cmd         = 'chromium'\n  ### TAINT get address from `start_server()` ###\n  address     = \"http://localhost:#{port}\"\n  parameters  = [ \"--app=#{address}\", ]\n  cp_cfg      = { detached: false, }\n  browser     = CP.spawn cmd, parameters, cp_cfg\n  browser.on 'error', ( error ) => warn '^browser@445-10^', error\n  browser.on 'close',      => whisper '^browser@445-11^', 'close'\n  browser.on 'disconnect', => whisper '^browser@445-12^', 'disconnect'\n  browser.on 'error',      => whisper '^browser@445-13^', 'error'\n  browser.on 'exit',       => whisper '^browser@445-14^', 'exit'; server.kill()\n  browser.on 'message',    => whisper '^browser@445-15^', 'message'\n  browser.on 'spawn',      => whisper '^browser@445-16^', 'spawn'\n  return { browser, }\n\n#-----------------------------------------------------------------------------------------------------------\nrun = ->\n  parse_arguments()\n  { server, port, } = start_server()\n  start_browser { server, port, }\n  info '^445-17^', { start_path, xterm_path }\n  return null\n\n############################################################################################################\nrun()\n\n\n\n\n\n\n\n"
  ]
}